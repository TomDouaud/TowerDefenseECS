#![allow(dead_code)]

// Équivalent de PathPoint.java
#[derive(Debug)]
pub struct PathPoint {
    pub x: usize,
    pub y: usize,
}

// Le tableau de 20x20 de LevelBuild.java
const LEVEL_DATA: [[u32; 20]; 20] = [
    [ 0, 0, 0, 0, 15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
    [ 0, 0, 0, 0, 15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ],
    [ 0, 0, 0, 0, 15, 1, 1, 1, 18, 14, 14, 14, 19, 1, 1, 1, 1, 18, 14, 14 ],
    [ 0, 0, 0, 0, 15, 1, 1, 1, 13, 0, 0, 0, 15, 1, 1, 1, 1, 13, 4, 21],
    [ 0, 0, 0, 0, 15, 1, 1, 1, 13, 0, 0, 0, 15, 1, 1, 1, 1, 13, 3, 0 ],
    [ 0, 0, 0, 0, 15, 1, 1, 1, 13, 0, 0, 0, 15, 1, 1, 1, 1, 13, 3, 0 ],
    [ 0, 0, 0, 0, 15, 1, 1, 1, 17, 12, 12, 12, 16, 1, 1, 1, 1, 13, 3, 0 ],
    [ 0, 0, 0, 0, 8, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 11, 3, 0 ],
    [ 0, 0, 4, 2, 2, 2, 2, 5, 0, 0, 0, 4, 2, 2, 2, 2, 2, 2, 6, 0 ],
    [ 0, 0, 3, 9, 12, 12,10, 3, 0, 0, 0, 3, 9, 12, 12, 12, 12, 10, 0, 0 ],
    [ 0, 0, 3, 15, 1, 1, 13, 3, 0, 0, 0, 3, 15, 1, 1, 1, 1, 13, 0, 9 ],
    [ 0, 0, 3, 15, 1, 1, 13, 3, 0, 0, 0, 3, 15, 1, 1, 18, 14, 11, 0, 15 ],
    [ 0, 0, 3, 15, 1, 1, 13, 7, 2, 2, 2, 6, 15, 1, 1, 13, 0, 0, 0, 15],
    [ 0, 0, 3, 15, 1, 1, 17, 12, 12, 12, 12, 12, 16, 1, 1, 13, 0, 0, 9, 16],
    [ 0, 0, 3, 15, 1, 1, 1, 18, 14, 14, 14, 19, 1, 1, 1, 13, 0, 0, 15, 1],
    [ 0, 0, 3, 15, 1, 1, 1, 13, 0, 0, 0, 15, 1, 1, 1, 13, 0, 0, 15, 1],
    [ 0, 0, 3, 15, 1, 1, 18, 11, 0, 0, 0, 8, 19, 1, 1, 13, 0, 0, 15, 1],
    [ 0, 0, 3, 15, 1, 1, 13, 0, 0, 0, 0, 0, 15, 1, 1, 13, 0, 0, 15, 1],
    [ 0, 0, 3, 15, 1, 1, 17, 12, 12, 12, 12, 12, 16, 1, 1, 13, 0, 0, 15, 1],
    [ 20, 2, 6, 8, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 11, 0, 0, 8, 14]
];

pub fn get_level_data() -> &'static [[u32; 20]; 20] {
    &LEVEL_DATA
}

pub fn get_start_point() -> PathPoint {
    for (y, row) in LEVEL_DATA.iter().enumerate() {
        for (x, &tile_id) in row.iter().enumerate() {
            if tile_id == 20 { // 20 est le START_PATH
                return PathPoint { x, y };
            }
        }
    }
    panic!("Pas de point de départ trouvé !");
}

pub fn get_end_point() -> PathPoint {
    for (y, row) in LEVEL_DATA.iter().enumerate() {
        for (x, &tile_id) in row.iter().enumerate() {
            if tile_id == 21 { // 21 est le END_PATH
                return PathPoint { x, y };
            }
        }
    }
    panic!("Pas de point de fin trouvé !");
}